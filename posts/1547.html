<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Unity进阶-InputSystem | 雪夜の自我救赎</title><meta name="keywords" content="Unity,InputSystem"><meta name="author" content="雪夜"><meta name="copyright" content="雪夜"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="InputSystem概述1.InputSystem说明：Unity提供的新的用于检测玩家设备输入的系统，InputSystem让我们可以专注于功能逻辑开发，不用操心输入检测相关代码； 2.InputSystem导入说明：packageManager中导入Input System 3.InputSystem选择说明：导入InputSystem包后，老的输入系统会被禁用掉，可以在File——&gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity进阶-InputSystem">
<meta property="og:url" content="https://wwy.wwywy.com/posts/1547.html">
<meta property="og:site_name" content="雪夜の自我救赎">
<meta property="og:description" content="InputSystem概述1.InputSystem说明：Unity提供的新的用于检测玩家设备输入的系统，InputSystem让我们可以专注于功能逻辑开发，不用操心输入检测相关代码； 2.InputSystem导入说明：packageManager中导入Input System 3.InputSystem选择说明：导入InputSystem包后，老的输入系统会被禁用掉，可以在File——&gt;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/09/b272hF.png">
<meta property="article:published_time" content="2019-11-13T13:00:00.000Z">
<meta property="article:modified_time" content="2022-03-19T09:43:08.686Z">
<meta property="article:author" content="雪夜">
<meta property="article:tag" content="Unity">
<meta property="article:tag" content="InputSystem">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2022/03/09/b272hF.png"><link rel="shortcut icon" href="https://s4.ax1x.com/2022/01/12/7KFRfI.jpg"><link rel="canonical" href="https://wwy.wwywy.com/posts/1547"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"一年之内的产物","messageNext":"技术可能存在过期"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 雪夜","link":"链接: ","source":"来源: 雪夜の自我救赎","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity进阶-InputSystem',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-19 17:43:08'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link defer rel="stylesheet" href="/css/customm.css" ><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/css/icon.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/css/background.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/css/index_ee.css"><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="雪夜の自我救赎" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/01/12/7KFRfI.jpg" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-archive"></i><span> 归档</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-book"></i><span> 说说</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fa fa-image"></i><span> 相册</span></a></li><li><a class="site-page child" href="/List/movies/"><i class="fa-fw fa fa-film"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tools/"><i class="fa-fw fa fa-suitcase"></i><span> 百宝箱</span></a></div><div class="menus_item"><a class="site-page" href="/Windows/"><i class="fa-fw fa fa-desktop"></i><span> Windows</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s1.ax1x.com/2022/03/09/b272hF.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">雪夜の自我救赎</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-archive"></i><span> 归档</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-book"></i><span> 说说</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fa fa-image"></i><span> 相册</span></a></li><li><a class="site-page child" href="/List/movies/"><i class="fa-fw fa fa-film"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tools/"><i class="fa-fw fa fa-suitcase"></i><span> 百宝箱</span></a></div><div class="menus_item"><a class="site-page" href="/Windows/"><i class="fa-fw fa fa-desktop"></i><span> Windows</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Unity进阶-InputSystem</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-11-13T13:00:00.000Z" title="发表于 2019-11-13 21:00:00">2019-11-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-19T09:43:08.686Z" title="更新于 2022-03-19 17:43:08">2022-03-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/">游戏引擎</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/">Unity</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Unity进阶-InputSystem"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="InputSystem概述"><a href="#InputSystem概述" class="headerlink" title="InputSystem概述"></a>InputSystem概述</h1><p>1.InputSystem说明：Unity提供的新的用于检测玩家设备输入的系统，InputSystem让我们可以专注于功能逻辑开发，不用操心输入检测相关代码；</p>
<p>2.InputSystem导入说明：packageManager中导入Input System</p>
<p>3.InputSystem选择说明：导入InputSystem包后，老的输入系统会被禁用掉，可以在File——&gt;Build Setting——&gt;Player Setting——&gt;Other——&gt;Active Input Handling中可以同时启用也可以只启用其中之一,每次启用后会重启Unity；</p>
<h1 id="InputSystem知识点"><a href="#InputSystem知识点" class="headerlink" title="InputSystem知识点"></a>InputSystem知识点</h1><h2 id="代码检测输入"><a href="#代码检测输入" class="headerlink" title="代码检测输入"></a>代码检测输入</h2><p>1.代码直接监听的说明：这种观察者模式的监听方式和InputManager是基本类似的，但是这也就是InputManager的弊端，所以直接得代码检测方式对于InputSystem一般是简单做法或者是有特殊需求才使用的，新输入系统的设计初衷就是想提升开发者的开发效率，不提倡写代码来处理输入逻辑，之后我们学了配置文件相关知识后，都是通过配置文件来设置监听（监视窃听）的输入事件类型，我们只需要把工作重心放在输入触发后的逻辑处理；</p>
<h3 id="键盘输入监听（Keyboard）"><a href="#键盘输入监听（Keyboard）" class="headerlink" title="键盘输入监听（Keyboard）"></a>键盘输入监听（Keyboard）</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.获取当前键盘设别
        //新输入系统 提供了对应的输入设备类 帮助我们对某一种设备输入进行检测
        //需要引用命名空间UnityEngine.InputSystem;
        Keyboard keyBoard = Keyboard.current;

2.单个按键监听
        //首先要得到某一个按键 通过键盘类对象 点出 各种按键 来获取
        //按下
        keyBoard.按键.wasPressedThisFrame
        //抬起
        keyBoard.按键.wasReleasedThisFrame
        //长按
        keyBoard.按键.isPressed
        //可以处理 任意键 按下 抬起 长按 相关的逻辑
        Keyboard.current.anyKey.监听类型（同上）

3.通过时间监听按键按下
        //通过给keyboard对象中的 文本输入事件 添加委托函数
        //便可以获得每次输入的内容
        keyBoard.onTextInput += (c) =&gt;
        {
            print("通过lambda表达式" + c);
        };
        keyBoard.onTextInput += TextInput;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="鼠标输入监听（Mouse）"><a href="#鼠标输入监听（Mouse）" class="headerlink" title="鼠标输入监听（Mouse）"></a>鼠标输入监听（Mouse）</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.获取当前鼠标设备（需要引用命名空间）
        Mouse mouse = Mouse.current;
        
2.鼠标各键位 按下 抬起 长按
        //鼠标左键
        mouse.leftButton.监听类型（同上）
        //鼠标右键
        mouse.rightButton.监听类型（同上）
        //鼠标中键
        mouse.middleButton.监听类型（同上）
        //鼠标 向前向后键
        mouse.forwardButton.监听类型（同上）
        mouse.backButton.监听类型（同上）

3.鼠标位置相关
        //获取当前鼠标位置（屏幕坐标）
        mouse.position.ReadValue();
        //得到鼠标两帧之间的一个偏移向量（其实就是获取鼠标滑动方向）
        mouse.delta.ReadValue();
        //鼠标中间 滚轮的方向向量
        mouse.scroll.ReadValue();
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="触屏输入监听（Touchscreen）"><a href="#触屏输入监听（Touchscreen）" class="headerlink" title="触屏输入监听（Touchscreen）"></a>触屏输入监听（Touchscreen）</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.获取当前触屏设备
        Touchscreen ts = Touchscreen.current;
        //由于触屏相关都是在移动平台或提供触屏的设备上使用
        //所以在使用时最好做一次判空

2.得到触屏手指信息
        //得到触屏手指数量
        ts.touches.Count
        //获取指定单个索引手指
        TouchControl tc = ts.touches[0];
        //按下 抬起 长按 
        tc.press.监听类型（同上）
        //点击手势
        tc.tap.isPressed
        //连续点击次数
        tc.tapCount;

3.手指位置等相关信息
        //位置
        print(tc.position.ReadValue());
        //第一次接触时位置
        print(tc.startPosition.ReadValue());
        //接触区域大小
        tc.radius.ReadValue();
        //偏移位置
        tc.delta.ReadValue();

        //得到当前手指的 状态（阶段）
        UnityEngine.InputSystem.TouchPhase tp = tc.phase.ReadValue();
        switch (tp)
        {
            //无
            case UnityEngine.InputSystem.TouchPhase.None:
                break;
            //开始接触
            case UnityEngine.InputSystem.TouchPhase.Began:
                break;
            //移动
            case UnityEngine.InputSystem.TouchPhase.Moved:
                break;
            //结束
            case UnityEngine.InputSystem.TouchPhase.Ended:
                break;
            //取消
            case UnityEngine.InputSystem.TouchPhase.Canceled:
                break;
            //静止
            case UnityEngine.InputSystem.TouchPhase.Stationary:
                break;
            default:
                break;
        }
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="手柄输入监听（Gamepad）"><a href="#手柄输入监听（Gamepad）" class="headerlink" title="手柄输入监听（Gamepad）"></a>手柄输入监听（Gamepad）</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.获取当前手柄
        Gamepad gamePad = Gamepad.current;

2.手柄摇杆
        //摇杆方向
        //左摇杆
        gamePad.leftStick.ReadValue()
        //右摇杆
        gamePad.rightStick.ReadValue()
        //左遥感按键监听
        gamePad.leftStickButton.监听类型（同上）
        //右摇杆按键监听
        gamePad.rightStickButton.监听类型（同上）

3.手柄方向键
        //对应手柄上4个方向键 上下左右
        gamePad.dpad.left.监听类型（同上）
        gamePad.dpad.right.监听类型（同上）
        gamePad.dpad.up.监听类型（同上）
        gamePad.dpad.down.监听类型（同上）

4.手柄右侧按键
        //通用
        //Y、△
        //gamePad.buttonNorth
        //A、X
        //gamePad.buttonSouth
        //X、□
        //gamePad.buttonWest
        //B、○
        //gamePad.buttonEast

        //wasPressedThisFrame
        //wasReleasedThisFrame
        //isPressed

        //手柄右侧按钮 x ○ △ □ A B Y 
        //○
        //gamePad.circleButton
        //△
        //gamePad.triangleButton
        //□
        //gamePad.squareButton
        //X
        //gamePad.crossButton
        //x
        //gamePad.xButton
        //a
        //gamePad.aButton
        //b
        //gamePad.bButton
        //Y
        //gamePad.yButton

5.手柄中央按键
        //中央键
        //gamePad.startButton
        //gamePad.selectButton

        //wasPressedThisFrame
        //wasReleasedThisFrame
        //isPressed

6.手柄肩部按键
        //左上右上 肩部键位
        //左右前方肩部键
        //gamePad.leftShoulder
        //gamePad.rightShoulder

        //左右后方触发键
        //gamePad.leftTrigger
        //gamePad.rightTrigger

        //wasPressedThisFrame
        //wasReleasedThisFrame
        //isPressed<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="其他输入监听"><a href="#其他输入监听" class="headerlink" title="其他输入监听"></a>其他输入监听</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.其他类型说明：
        //其它
        //Joystick—摇杆
        //Pen—电子笔

        //Sensor（传感器）
        //https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/Sensors.html#accelerometer
        //Gyroscope—陀螺仪
        //GravitySensor—重力传感器
        //加速传感器
        //光照传感器
        //等等<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="InputAction类"><a href="#InputAction类" class="headerlink" title="InputAction类"></a>InputAction类</h2><p>1.InputAction说明：顾名思义，InputAction是InputSystem帮助我们封装的输入动作类，它的主要作用，是不需要我们通过写代码的形式来处理输入，而是直接在Inspector窗口编辑想要处理的输入类型，当输入触发时，我们只需要把精力花在输入触发后的逻辑处理上；我们在想要用于处理输入动作的类中，申明对应的InputAction类型的成员变量（注意：需要引用命名空间UnityEngine.InputSystem）；</p>
<h3 id="InputAction使用API"><a href="#InputAction使用API" class="headerlink" title="InputAction使用API"></a>InputAction使用API</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.启动输入检测
move.Enable();

2.操作监听相关
//开始操作
move.started += TestFun;
//真正触发
move.performed += (context) =&gt;{}；
//结束操作
move.canceled += (context) =&gt;{}；

3.关键参数CallbackContext
//当前状态
//没有启用 Disabled
//等待 Waiting
//开始 Started
//触发 Performed
//结束 Canceled
context.phase
//动作行为信息
context.action.name;
//控件信息
context.control.name;
//获取值
context.ReadValue&lt;要获取的类型&gt;;
//持续时间
context.duration;
//开始时间
context.startTime;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="InputAction齿轮面板参数"><a href="#InputAction齿轮面板参数" class="headerlink" title="InputAction齿轮面板参数"></a>InputAction齿轮面板参数</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.Actions：输入动作设置，设置检测哪些输入
	Action Type：动作类型
		Value-值类型，主要用于状态连续更改的输入，例如鼠标的移动，手柄的遥感。如果有多个设备绑定这个Action，只会发送其中一个设备（最受控制的）的输入：
		Button：按钮类型，用于每次按下时触发的Action<span class="token punctuation">;</span>
		Pass Through：直通类型，和Value一样，区别在于如果有多个设备绑定这个Action，会发送所有设备的输入<span class="token punctuation">;</span>
	Control Type-控制类型，在这里选择对应的类型，之后在选择对应设备按键相关属性时，会根据你选择内容的不同，筛选对应内容，这上面显示的内容就是各设备属性的返回值类型，当你选择他们后，非选择的类型将不会在之后的按键设置中出现，很多内容我们基本用不到，相当于是在这里筛选输入设备：
		Any：任何指
		Analog：模拟值，浮点数
		Axis：一维轴浮点数，例如：摇杆输入返回值
		Bone：骨骼
		Digital：数字
		Double：浮点
		Dpad：4向按钮，例如：摇杆上的D-pad
		Eyes：VR相关数值
		Integer：整数
		Quaternion：四元数
		Stick：摇杆相关
		Touch：触屏相关
		Vector2：2维向量
		Vector3：3维向量

<span class="token number">2</span>.Interactions-相互作用设置，用于特殊输入，比如长按、多次点击等等，当满足条件时才会触发这个行为（设置长按时间、点击次数等等，3个事，开始started，触发performed，结束canceled）：
		Hold：适用于需要输入设备保持一段时间的操作。当按钮按下会触发started，若在松开按钮前，按住时间大于等于Hold Time则会触发performed（时间一到就触发），否则触发canceled；
		Tap：和Hold相反，需要在一段时间内按下松开来触发。当按钮按下会触发started，若在Max Tap Duriation时间内（小于）松开按钮，触发performed，否则触发canceled；
		SlowTap：类似Hold，但是它在按住时间大于等于Max Tap Duriation的时候，并不会立刻触发performed，而是会在松开的时候才触发performed；
		MultiTap：用作于多次点击，例如双击或者三连击。Tap Count为点击次数，Max Tap Spacing为每次点击之间的间隔（默认值为 <span class="token number">2</span> * Max Tap Duration）。Max Tap Duration为每次点击的持续时间，即按下和松开按钮的这段时间。当每次点击时间小于Max Tap Duration，且点击间隔时间小于Max Tap Spacing，点击Tap Count次，触发performed。
		Press可以实现类似按钮的操作
			Press Only：按下的时候触发started和performed。不触发canceled
			Release Only：按下的时候触发started，松开的时候触发performed
			Press And Release：按下的时候触发started和performed，松开的时候会再次触发started和performed。不触发canceled；
			Press Point：在Input System中，每个按钮都有对应的浮点值，例如普通的按钮，将会在0（未按下）和1（按下）之间。因此我们可以利用这个值（Press Point）来进行区分，当大于等于这个值则认为按钮按下了。

<span class="token number">3</span>.Processors-值处理加工设置，对得到的值进行处理加工：
		Clamp：将输入值钳制到<span class="token punctuation">[</span>min<span class="token punctuation">..</span>max<span class="token punctuation">]</span>范围。
		Invert：反转控件中的值（即，将值乘以-1）。
		Invert Vector <span class="token number">2</span>：反转控件中的值（即，将值乘以-1）。如果invertX为真，则反转矢量的x轴；如果invertY为真，则反转矢量的y轴。
		Invert Vector <span class="token number">3</span>：反转控件中的值（即，将值乘以-1）。如果反转x为真，则反转矢量的x轴；如果反转y为真，则反转y轴；如果反转z为真，则反转z轴。
		Normalize：如果最小值<span class="token operator">&gt;</span><span class="token operator">=</span>零，则将<span class="token punctuation">[</span>min<span class="token punctuation">..</span>max<span class="token punctuation">]</span>范围内的输入值规格化为无符号规格化形式<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">1</span><span class="token punctuation">]</span>，如果最小值<span class="token operator">&lt;</span>零，则将输入值规格化为有符号规格化形式<span class="token punctuation">[</span>-1<span class="token punctuation">..</span><span class="token number">1</span><span class="token punctuation">]</span>。
		Normalize Vector <span class="token number">2</span>：将输入向量规格化为单位长度（1）。
		Normalize Vector <span class="token number">3</span>：将输入向量规格化为单位长度（1）
		Scale：将所有输入值乘以系数。
		Scale Vector <span class="token number">2</span>：将所有输入值沿x轴乘以x，沿y轴乘以y。
		Scale Vector <span class="token number">3</span>：将所有输入值沿x轴乘以x，沿y轴乘以y，沿z轴乘以z。
		Axis Deadzone：axis死区处理器缩放控件的值，使绝对值小于最小值的任何值为0，绝对值大于最大值的任何值为1或-1。许多控件没有精确的静止点（也就是说，当控件位于中心时，它们并不总是精确报告0）。在死区处理器上使用最小值可避免此类控件的无意输入。此外，当轴一直移动时，某些控件不一致地报告其最大值。在死区处理器上使用最大值可确保在这种情况下始终获得最大值。
		Stick Deadzone：摇杆死区处理器缩放Vector2控件（如摇杆）的值，以便任何幅值小于最小值的输入向量都将得到（0,0），而任何幅值大于最大值的输入向量都将规格化为长度1。许多控件没有精确的静止点（也就是说，当控件位于中心时，它们并不总是精确地报告0,0）。在死区处理器上使用最小值可避免此类控件的无意输入。此外，当轴一直移动时，某些控件不一致地报告其最大值。在死区处理器上使用最大值可确保在这种情况下始终获得最大值。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="InputAction添加面板参数"><a href="#InputAction添加面板参数" class="headerlink" title="InputAction添加面板参数"></a>InputAction添加面板参数</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.Add Binding:添加新的输入绑定（单按键输入）；

<span class="token number">2</span>.Add Positive<span class="token punctuation">\</span>Negative Binding Or Add 1D Axis Composite<span class="token punctuation">(</span><span class="token number">2019</span>版本<span class="token punctuation">)</span>：添加1D轴组合（类似Input中的水平竖直热键，返回-1~1之间的一个值）
	Negative：负面按键，例如 <span class="token number">0</span>~-1
	Positive：正向按键，例如 <span class="token number">0</span>~1
	Composite Type：复合类型
	MinValue：最小值
	MaxValue：最大值
	Which Side Wins：哪一方获胜（当同时按下时如何处理）
		Neither：双方没有优先权，返回MinValue和MaxValue的中间值
		Positive：正面优先，返回maxValue
		Negative：负面优先，返回minValue

<span class="token number">3</span>.Add Up<span class="token punctuation">\</span>Down<span class="token punctuation">\</span>Left<span class="token punctuation">\</span>Right Composite Or Add 2D Vector Composite（2019版本）:添加2D向量组合（类似将Input中的水平竖直热键组合在一起，得到的Vector中的x，y分别表示两个轴）
	Up:上 <span class="token punctuation">(</span> <span class="token number">0</span> , <span class="token number">1</span> <span class="token punctuation">)</span>
	Down：下 <span class="token punctuation">(</span> <span class="token number">0</span> , -1 <span class="token punctuation">)</span>
	Left：左 <span class="token punctuation">(</span> -1 , <span class="token number">0</span> <span class="token punctuation">)</span>
	Right：右 <span class="token punctuation">(</span> <span class="token number">1</span> , <span class="token number">0</span> <span class="token punctuation">)</span>
	Composite Type：复合类型
	Mode：处理模式
		Analog：模拟值，浮点值
		Digital Normalized：单位化向量
		Digital：未单位化的向量

<span class="token number">4</span>.Add Up<span class="token punctuation">\</span>Down<span class="token punctuation">\</span>Left<span class="token punctuation">\</span>Right<span class="token punctuation">\</span>Forward<span class="token punctuation">\</span>Backward Composite-添加3D向量组合：和2D类似；

<span class="token number">5</span>.Add Button With One Modifier Composite:添加带有一个复合修改器的按钮（可以理解为双组合键， 比如Ctrl+C、Ctrl+V）
	Modifier：复合输入内容
	Button：触发输入内容<span class="token punctuation">(</span>举例：复制按键Ctrl+C,Ctrl为Modifier,C为Button<span class="token punctuation">)</span>

<span class="token number">6</span>.Add Button With Two Modifier Composite-添加带有两个复合修改器的按钮（可以理解为三组合键，比如Ctrl+K+U）:
	Modifier：复合输入内容
	Button：触发输入内容<span class="token punctuation">(</span>举例：复制按键Ctrl+K+U,Ctrl为Modifier1,K为Modifier2,U为Button<span class="token punctuation">)</span>

<span class="token number">7</span>.输入类型说明：
	Path：从哪个控件接受输入
	Usages：常用用法
	GamePad：游戏手柄
	Joystick：操纵杆
	Keyboard：键盘
	Mouse：鼠标
	Pen：笔
	Pointer：指针
	Sensor：传感器
	TouchScreen：触屏
	Tracked Device：履带装置
	XR Controller：XR 控制器
	XR HMD：XR 头戴显示器
	Other：其它<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="InputSystemPackage设置"><a href="#InputSystemPackage设置" class="headerlink" title="InputSystemPackage设置"></a>InputSystemPackage设置</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.UpdateMode：更新模式
	Process Events In Dynamic Update：在动态更新中处理事件
	Process Events In Fixed Update：在固定更新中处理事件
	Process Events Manually：手动处理事件
	
<span class="token number">2</span>.Background Behavior：后台行为
	Reset And Disable Non Background Devices：重置和禁用非后台设备
	Reset And Disable All Devices：重置和禁用所有设备
	Ignore Focus：忽略焦点
	
<span class="token number">3</span>.Filter Noise on .current：过滤当前设备的噪音

<span class="token number">4</span>.Compensate Orientation：定向补偿

<span class="token number">5</span>.Default Deadzone Min：默认死区最小值

<span class="token number">6</span>.Default Deadzone Max：默认死区最大值

<span class="token number">7</span>.Default Button Press Point：默认按钮按下点

<span class="token number">8</span>.Button Release Threshold：按钮释放阈值

<span class="token number">9</span>.Default Tap TIme：默认点击时间

<span class="token number">10</span>.Default Slow Tap Time：默认慢速点击时间

<span class="token number">11</span>.Default Hold Time：默认保持时间

<span class="token number">12</span>.Tap Radius：点击半径

<span class="token number">13</span>.MultTap Delay TIme：多次点击延迟时间

<span class="token number">14</span>.Supported Devices：支持的设备，如果希望输入系统支持其可以识别的所有输入设备，请将支持的设备保留为空；但是，如果您只对某一组设备感兴趣，那么在此处添加它们将缩小编辑器中显示的范围，并避免从与项目无关的设备获取输入；在此处添加设备时，任何未被分类为受支持的设备都将显示在输入调试器的“不受支持的设备”下；

<span class="token number">15</span>.Motion Usage：动作使用

<span class="token number">16</span>.Description：描述

<span class="token number">17</span>.Play Mode Input Behavior：播放模式输入行为
	Pointers And Keyboards Respect Game View Focus：指针和键盘遵守游戏视图焦点
	All Devices Respect Game View Focus：所有设备都遵守游戏视图焦点
	All Device Input Always Goes To Game View：所有设备输入始终进入游戏视图<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="InputActions输入动作配置文件"><a href="#InputActions输入动作配置文件" class="headerlink" title="InputActions输入动作配置文件"></a>InputActions输入动作配置文件</h2><p>1.输入配置文件说明：输入系统中提供了一种输入配置文件，你可以理解它是InputAction的集合，可以在一个文件中编辑多个InputAction的信息，里面记录了想要处理的行为和动作（也就是InputAction的相关信息），我们可以在其中自己定义 InputAction（比如：开火、移动、旋转等），然后为这个InputAction关联对应的输入动作，之后将该配置文件和PlayerInput进行关联，PlayerInput会自动帮助我们解析该文件，当触发这些InputAction输入动作时会以分发事件的形式通知我们执行行为；</p>
<p>2.创建输入配置文件：在Project窗口右键Create创建InputActions配置文件；</p>
<h3 id="输入配置文件"><a href="#输入配置文件" class="headerlink" title="输入配置文件"></a>输入配置文件</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.（左边）ActionMaps:行动地图窗口,可以理解为配置文件中的行为分组配置,可以配置多套操作规范;

2.（中间）Actions 输入动作窗口,我们在这里可以创建各种InputAciton;

3.（右边）Properties 输入操作绑定的输入属性

4.(上方)工具栏-提供保存、搜索等功能按键:
	Add Control:设置控制方案:
		Gamepad：手柄
		Joystick：摇杆
		KeyboardMouse：键盘鼠标
		Touch：触屏
		XR：VR/AR等
	All Devices：设备选择,当切换了控制方案后,该控制方案可能是由多个设备配合控制,可以在这里进一步筛选对应设备
	Save Asset:保存配置按钮;
	Auto-Save：自动保存配置;
	搜索栏：可以搜索对应动作行为;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="输入配置文件生成C-代码"><a href="#输入配置文件生成C-代码" class="headerlink" title="输入配置文件生成C#代码"></a>输入配置文件生成C#代码</h2><p>1.根据配置文件生成C#代码：选择InputActions文件后，在Inspector窗口设置生成路径，类名，命名空间，应用后生成代码；</p>
<p>2.使用生成后的输入代码</p>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.创建生成的代码对象
input = new 类名();

2.激活输入
input.Enable();

3.事件监听
input.Input名.按钮名.performed += (context) =&gt;{}；<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="PlayerInput"><a href="#PlayerInput" class="headerlink" title="PlayerInput"></a>PlayerInput</h2><p>1.PlayerInput说明：PlayerInput是InputSystem提供的，专门用于接受玩家输入来处理自定义逻辑的组件，选择任意对象（一般为一个玩家对象）为其添加PlayerInput组件即可，工作原理如下：</p>
<ul>
<li>配置输入文件（InputActions文件）；</li>
<li>通过PlayerInput关联配置文件，它会自动解析该配置文件；</li>
<li>关联对应的响应函数，处理对应逻辑；</li>
</ul>
<h3 id="PlayerInput组件面板说明："><a href="#PlayerInput组件面板说明：" class="headerlink" title="PlayerInput组件面板说明："></a>PlayerInput组件面板说明：</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.Actions-行为,一套输入动作和玩家相关联，帮助我们监听一些按键的输入:
	Default Control Scheme：默认启用哪一个控制方案
	Default Actions Map：默认启用哪一个行为映射方案

<span class="token number">2</span>.Camera：关联摄像机，当分屏设置时才需修改此选项

<span class="token number">3</span>.Behavior：如何通知游戏对象上执行对应逻辑
	SendMessage：将逻辑脚本挂载在和PlayerInput同一对象上，会通过SendMessage通知执行对应函数
	BroadcastMessage：，将逻辑脚本挂载在其自身或子对象上。会通过BroadcastMessage通知执行对应函数
	Invoke UnityEvent Actions：通过拖拽脚本关联函数指明想要执行的函数逻辑
	Invoke CSharp Events：通过Csharp事件监听处理对应逻辑，通过获取PlayerInput进行事件监听<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="PlayerInputBehavior详细说明"><a href="#PlayerInputBehavior详细说明" class="headerlink" title="PlayerInputBehavior详细说明"></a>PlayerInputBehavior详细说明</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">1.Send Messages
        //在自定义脚本中
        //申明名为 "On+行为名" 的函数
        //没有参数 或者 参数类型为InputValue
        //将该自定义脚本挂载到PlayerInput依附的对象上
        //当触发对应输入时 会自动调用函数

        //并且还有默认的3个和设备相关的函数可以调用
        //设备注册(当控制器从设备丢失中恢复并再次运行时会触发)：OnDeviceRegained(PlayerInput input)
        //设备丢失（玩家失去了分配给它的设备之一，例如，当无线设备耗尽电池时）：OnDeviceLost(PlayerInput input)
        //控制器切换：OnControlsChanged(PlayerInput input)

2.Broadcast Messages	
        //基本和SendMessage规则一致
        //唯一的区别是，自定义脚本不仅可以挂载在PlayerInput依附的对象上
        //还可以挂载在其子对象下
        
3.Invoke Unity Events
        //该模式可以让我们在Inspector窗口上通过拖拽的形式关联响应函数
        //但是注意：响应函数的参数类型 需要改为 InputAction.CallbackContext
        
4.Invoke C Sharp Events
        //1.获取PlayerInput组件
        PlayerInput input = this.GetComponent&lt;PlayerInput&gt;();
        //手动获取需要的值，比如在Update中获取值
        input.currentActionMap["Move"].ReadValue&lt;Vector2&gt;()
        
        //2.获取对应事件进行委托函数添加
        input.onDeviceLost += OnDeviceLost;
        input.onDeviceRegained += OnDeviceRegained;
        input.onControlsChanged += OnControlsChanged;
        input.onActionTriggered += OnActionTrigger;
        
        //3.当触发输入时会自动触发事件调用对应函数
        //用Switch来集中处理
    public void OnActionTrigger(InputAction.CallbackContext context)
    {
        switch (context.action.name)
        {
            case "Fire":
                //输入阶段的判断 触发阶段 才去做逻辑
                if(context.phase == InputActionPhase.Performed)
                    print("开火");
                break;
            case "Look":
                print("看向");
                print(context.ReadValue&lt;Vector2&gt;());
                break;
            case "Move":
                print("移动");
                print(context.ReadValue&lt;Vector2&gt;());
                break;
        }
    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="PlayerInputManager"><a href="#PlayerInputManager" class="headerlink" title="PlayerInputManager"></a>PlayerInputManager</h2><p>1.PlayerInputManager 组件主要是用于管理本地多人输入的输入管理器，它主要管理玩家加入和离开；</p>
<h3 id="PlayerInputManager组件面板说明"><a href="#PlayerInputManager组件面板说明" class="headerlink" title="PlayerInputManager组件面板说明"></a>PlayerInputManager组件面板说明</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Notification Behavior-当玩家进入时PlayerInputManager如何通知关联的对象，它的工作方式和PlayerInput相同：
Join Behavior：玩家加入的机制
	Join Players When Button Is Pressed：当有新设备加入按下任意键，或者没有任何玩家时按下任意键；
	Join Players When Join Action Is Triggered：当有新设备加入按下指定按键触发玩家加入；
	Join Players Manually：不要自动加入玩家，需要自己手动加入玩家；
Player Prefab：挂载PlayerInput组件的游戏对象
Joining Enabled By Default：启用后，新加玩家按照JoinBehavior的规则加入
Limit Number Of Players：启用后，可以限制加入游戏的玩家数量
	Max Player Count：允许参加游戏的最大玩家数
Enable Split_Screen：如果启用，会自动为每个对象分配可用屏幕区域的一部分，用于多人分屏游戏
	Maintain Aspect Ratio：假值使游戏能够生成屏幕区域，其纵横比与细分屏幕时的屏幕分辨率不同
	Set Fixed Number：如果该值大于零，则PlayerInputManager始终将屏幕分割为固定数量的矩形，而不考虑实际的玩家数量。
	Screen Rectangle：可用于分配播放器拆分屏幕的规范化屏幕矩形<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="UGUI配合使用"><a href="#UGUI配合使用" class="headerlink" title="UGUI配合使用"></a>UGUI配合使用</h2><p>1.InputSystem对UI的支持：新输入系统InputSystem不支持IMGUI（GUI）注意：编辑器代码不受影响，新输入系统支持UGUI，但是需要使用新输入系统输入模块（Input System UI Input Module），如果当前激活的是InputSystem，那么OnGUI中的输入判断相关内容不会被触发，你必须要选择Both或者只激活老输入系统InputManager才能让OnGUI中内容有用；</p>
<p>2.更多支持说明</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/UISupport.html">UI 支持|输入系统|1.2.0 (unity3d.com)</a></p>
<h3 id="Input-System-UI-Input-Module组件参数说明"><a href="#Input-System-UI-Input-Module组件参数说明" class="headerlink" title="Input System UI Input Module组件参数说明"></a>Input System UI Input Module组件参数说明</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.Move Repeat Delay：生成初始IMoveHandler之间的初始延迟（秒）。OnMove导航事件，并在移动操作保持激活状态时生成重复的导航事件：

<span class="token number">2</span>.Move Repeat Rate：移动动作保持激活时，生成重复导航事件之间的间隔（秒）。请注意，这是由帧速率限制的；每帧不会有多个移动重复事件，因此，如果帧速率低于重复率，则有效重复率将低于此设置。

<span class="token number">3</span>.XR Tracking Origin：XR设备相关
Deselect On Background CLick：默认情况下，当指针被点击并且没有击中任何游戏对象时，当前选择被清除。然而，这可能会妨碍键盘和游戏板导航，因为它们需要关闭当前选定的对象。要防止自动取消选择，请将此属性设置为false。

<span class="token number">4</span>.Pointer Behavior-如何处理将输入送入UI的多个指针：
	Single Mouse Or Pen BUt Multi Touch And Track：对于未分类为触摸或跟踪输入的所有输入，其行为类似于单个统一指针，对于跟踪和触摸输入，其行为类似于所有指针；例如，如果在鼠标和笔上接收到并发输入，则将两者的输入馈送到同一UI指针实例中；其中一个的位置输入将覆盖另一个的位置。请注意，当从触摸或跟踪设备接收到输入时，鼠标和笔的单个统一指针将被删除，包括在鼠标/笔光标当前悬停在对象上时发送的IPointerExit事件。
	Single Unified Pointer：所有指针输入都是统一的，因此只有一个指针。这包括触摸和跟踪输入。例如，这意味着，无论有多少设备将输入输入输入点，只有帧中最后一个这样的输入才会生效并成为当前UI指针的位置。
	All Pointers As Is：UI输入模块不会统一任何指针输入。任何设备，包括提供输入指针类型动作的触摸和跟踪设备，都将是其自己的指针（或触摸输入的多个指针）；注意：这可能意味着UI中将有任意数量的指针，并且可能同时指向多个对象。
	
<span class="token number">5</span>.Actions Asset：包含控制UI的所有操作的输入操作资产。您可以使用以下属性选择资产中的哪些操作对应于哪些UI输入；默认情况下，这将引用名为DefaultInputActions的内置资产，该资产包含用于驱动UI的常见默认操作。如果要设置自己的操作，请创建自定义输入操作资源并在此处分配。在Inspector中将新资源引用指定给此字段时，编辑器会尝试根据常用命名约定自动将操作映射到UI输入。

<span class="token number">6</span>.Point：提供2D屏幕位置的动作。用作指向UI元素的光标，以实现鼠标样式的UI交互；设置为传递操作类型和向量2值类型。

<span class="token number">7</span>.Left Click：映射到用于与UI交互的主光标按钮的操作；设置为传递操作类型和按钮值类型。

<span class="token number">8</span>.Middle Click：映射到用于与UI交互的中间光标按钮的操作；设置为传递操作类型和按钮值类型。

<span class="token number">9</span>.Right Click：映射到用于与UI交互的辅助光标按钮的操作；设置为传递操作类型和按钮值类型。


<span class="token number">10</span>.Scroll Wheel：提供手势输入以允许在UI中滚动的操作；设置为传递操作类型和向量2值类型。

<span class="token number">11</span>.Move：一种操作，提供用于选择当前活动用户界面的二维矢量。这允许游戏板或箭头键样式的UI导航；设置为传递操作类型和向量2值类型

<span class="token number">12</span>.Submit：与当前选择的UI接触或“单击”的操作；设置为按钮动作类型。

<span class="token number">13</span>.Cancel：退出与当前选定UI的任何交互的操作；设置为按钮动作类型。

<span class="token number">14</span>.Tracked Position：提供一个或多个空间跟踪设备（如XR hand控制器）的3D位置的动作。结合跟踪设备方向，这允许通过指向空间中的UI可选择项进行XR样式的UI交互；设置为传递操作类型和向量3值类型。

<span class="token number">15</span>.Tracked Orientation：传递表示一个或多个空间跟踪设备（如XR hand控制器）旋转的四元数的操作。结合跟踪设备位置，这允许通过指向空间中的UI可选择项进行XR样式的UI交互；设置为传递操作类型和四元数值类型。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Multiplayer-Event-System多人组件说明"><a href="#Multiplayer-Event-System多人组件说明" class="headerlink" title="Multiplayer Event System多人组件说明"></a>Multiplayer Event System多人组件说明</h3><p>1.使用条件说明：如果同一设备上的多人游戏，每个人想要使用自己的一套独立UI，需要将EventSystem中的EventSystem组件替换为Multiplayer Event System组件；</p>
<p>2.Multiplayer Event System组件说明：与EventSystem组件不同，可以在场景中同时激活多个MultiplayerEventSystem，这样，您可以有多个玩家，每个玩家都有自己的InputSystemUIInputModule和MultiplayerEventSystem组件，每个玩家都可以有自己的一组操作来驱动自己的UI实例，如果您正在使用PlayerInput组件，还可以设置PlayerInput以自动配置玩家的InputSystemUIInputModule以使用玩家的操作；MultilayerEventSystem组件的属性与事件系统中的属性相同，此外，MultiplayerEventSystem组件还添加了一个playerRoot属性，您可以将其设置为一个游戏对象，该游戏对象包含此事件系统应在其层次结构中处理的所有UI可选择项；</p>
<h3 id="Tracked-Device-Raycaster组件配对VR中Canvas组件"><a href="#Tracked-Device-Raycaster组件配对VR中Canvas组件" class="headerlink" title="Tracked Device Raycaster组件配对VR中Canvas组件"></a>Tracked Device Raycaster组件配对VR中Canvas组件</h3><p>1.使用条件说明：如果想在VR项目中使用新输入系统配合UGUI使用，需要在Canvas对象上添加Tracked Device Raycaster组件；</p>
<h3 id="On-Screen组件（绝对重点）"><a href="#On-Screen组件（绝对重点）" class="headerlink" title="On-Screen组件（绝对重点）"></a>On-Screen组件（绝对重点）</h3><p>1.使用说明：On-Screen组件可以模拟UI和用户操作的交互，如On-Screen Button用来按钮交互，On-Screen Stick用来摇杆交互</p>
<h2 id="InputDebug"><a href="#InputDebug" class="headerlink" title="InputDebug"></a>InputDebug</h2><p>1.InputDebug说明：InputDebug顾名思义是输入调试器的意思，我们可以通过输入调试窗口检测输入相关信息，当我们的输入不按预期工作时，可以通过它来排查问题；</p>
<p>2.打开InputDebug窗口</p>
<ul>
<li>1.Window(窗口)-&gt;Analysis(分析)-&gt;Input Debugger(输入调试器)</li>
<li>2.PlayerInput组件-&gt;Open Input Debugger</li>
</ul>
<h3 id="InputDebug窗口信息说明"><a href="#InputDebug窗口信息说明" class="headerlink" title="InputDebug窗口信息说明"></a>InputDebug窗口信息说明</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.Add Devices Not Listed <span class="token keyword">in</span> Supported Devices：添加未在支持的设备中列出的设备；

<span class="token number">2</span>.Enable Event Diagnostics：启用事件诊断；

<span class="token number">3</span>.Simulate TOuch Input From Mouse or pen：模拟鼠标或笔的触摸输入；

<span class="token number">4</span>.Remote Devices：远程设备；

<span class="token number">5</span>.Devices：系统中当前所有输入设备列表；

<span class="token number">6</span>.Unsupported：不支持、无法识别的设备列表；

<span class="token number">7</span>.Layouts：设备布局列表，所有已注册的设备控制列表；

<span class="token number">8</span>.Abstract Devices：抽象设备；

<span class="token number">9</span>.Specific Devices：特定设备；

<span class="token number">10</span>.Settings：设置相关，默认的一些特殊输入设置；

<span class="token number">11</span>.Metrics：指标相关，输入系统资源使用情况的统计信息；<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="知识补充"><a href="#知识补充" class="headerlink" title="知识补充"></a>知识补充</h1><h2 id="InputSystem专门任意键方案（改键）"><a href="#InputSystem专门任意键方案（改键）" class="headerlink" title="InputSystem专门任意键方案（改键）"></a>InputSystem专门任意键方案（改键）</h2><p>1.方案说明：InputSystem.onAnyButtonPress.CallOnce((control) =&gt;（）；</p>
<ul>
<li>如果用Call 按键盘会报错 但是也能正常执行；</li>
<li>用CallOnce 只会执行一次 但是不会报错；</li>
</ul>
<h2 id="Json手动加载输入配置文件"><a href="#Json手动加载输入配置文件" class="headerlink" title="Json手动加载输入配置文件"></a>Json手动加载输入配置文件</h2><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">string json = Resources.Load&lt;TextAsset&gt;("PlayerInputTest").text;
InputActionAsset asset = InputActionAsset.FromJson(json);

input.actions = asset;

input.onActionTriggered += (context) =&gt;
{
    if(context.phase == InputActionPhase.Performed)
    {
        switch (context.action.name)
        {
            case "Move":
                print("移动");
                break;
            case "Look":
                print("看向");
                break;
            case "Fire":
                print("开火");
                break;
        }
    }
};<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="改键"><a href="#改键" class="headerlink" title="改键"></a>改键</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">雪夜</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://wwy.wwywy.com/posts/1547.html">https://wwy.wwywy.com/posts/1547.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wwy.wwywy.com" target="_blank">雪夜の自我救赎</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Unity/">Unity</a><a class="post-meta__tags" href="/tags/InputSystem/">InputSystem</a></div><div class="post_share"><div class="social-share" data-image="https://s1.ax1x.com/2022/03/09/b272hF.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://s4.ax1x.com/2022/01/22/7fZRxA.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/01/22/7fZRxA.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://s4.ax1x.com/2022/01/22/7fZcPe.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/01/22/7fZcPe.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/1548.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s1.ax1x.com/2022/03/09/b27G0P.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Unity进阶-ScriptableObject</div></div></a></div><div class="next-post pull-right"><a href="/posts/1549.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s1.ax1x.com/2022/03/09/b2HLV0.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Unity进阶-Addressables</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/1537.html" title="Unity入门"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/03/03/bYGzkR.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-08-30</div><div class="title">Unity入门</div></div></a></div><div><a href="/posts/1539.html" title="Unity核心"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/03/03/bYGzkR.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-10-05</div><div class="title">Unity核心</div></div></a></div><div><a href="/posts/1538.html" title="Unity基础"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/03/03/bYGzkR.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-09-25</div><div class="title">Unity基础</div></div></a></div><div><a href="/posts/2051.html" title="游戏MVC系列框架"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/03/03/bYUUZF.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-15</div><div class="title">游戏MVC系列框架</div></div></a></div><div><a href="/posts/2050.html" title="游戏程序基础框架"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/01/24/7o1K0O.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-20</div><div class="title">游戏程序基础框架</div></div></a></div><div><a href="/posts/1540.html" title="Unity进阶-GUI"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/03/03/bYJDuF.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-01-10</div><div class="title">Unity进阶-GUI</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/01/12/7KFRfI.jpg" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">雪夜</div><div class="author-info__description">天再高又怎么样，踮起脚尖就能更接近太阳</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://wwy010518.github.io"><i class="fab fa-home"></i><span>个人主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/WWY010518/WWY010518.github.io" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=3179342661&amp;website=www.qtxml.cn" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">年轻时，你做了一个决定，要把生命献给爱情、献给梦想，后来万箭穿心时，你没事，因为青春替你挡了命，青春死了，你还活着</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#InputSystem%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">InputSystem概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#InputSystem%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">InputSystem知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A3%80%E6%B5%8B%E8%BE%93%E5%85%A5"><span class="toc-number">2.1.</span> <span class="toc-text">代码检测输入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E7%9B%91%E5%90%AC%EF%BC%88Keyboard%EF%BC%89"><span class="toc-number">2.1.1.</span> <span class="toc-text">键盘输入监听（Keyboard）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E8%BE%93%E5%85%A5%E7%9B%91%E5%90%AC%EF%BC%88Mouse%EF%BC%89"><span class="toc-number">2.1.2.</span> <span class="toc-text">鼠标输入监听（Mouse）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E5%B1%8F%E8%BE%93%E5%85%A5%E7%9B%91%E5%90%AC%EF%BC%88Touchscreen%EF%BC%89"><span class="toc-number">2.1.3.</span> <span class="toc-text">触屏输入监听（Touchscreen）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9F%84%E8%BE%93%E5%85%A5%E7%9B%91%E5%90%AC%EF%BC%88Gamepad%EF%BC%89"><span class="toc-number">2.1.4.</span> <span class="toc-text">手柄输入监听（Gamepad）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BE%93%E5%85%A5%E7%9B%91%E5%90%AC"><span class="toc-number">2.1.5.</span> <span class="toc-text">其他输入监听</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#InputAction%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">InputAction类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#InputAction%E4%BD%BF%E7%94%A8API"><span class="toc-number">2.2.1.</span> <span class="toc-text">InputAction使用API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InputAction%E9%BD%BF%E8%BD%AE%E9%9D%A2%E6%9D%BF%E5%8F%82%E6%95%B0"><span class="toc-number">2.2.2.</span> <span class="toc-text">InputAction齿轮面板参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InputAction%E6%B7%BB%E5%8A%A0%E9%9D%A2%E6%9D%BF%E5%8F%82%E6%95%B0"><span class="toc-number">2.2.3.</span> <span class="toc-text">InputAction添加面板参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InputSystemPackage%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.2.4.</span> <span class="toc-text">InputSystemPackage设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#InputActions%E8%BE%93%E5%85%A5%E5%8A%A8%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.3.</span> <span class="toc-text">InputActions输入动作配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.3.1.</span> <span class="toc-text">输入配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90C-%E4%BB%A3%E7%A0%81"><span class="toc-number">2.4.</span> <span class="toc-text">输入配置文件生成C#代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PlayerInput"><span class="toc-number">2.5.</span> <span class="toc-text">PlayerInput</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PlayerInput%E7%BB%84%E4%BB%B6%E9%9D%A2%E6%9D%BF%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">2.5.1.</span> <span class="toc-text">PlayerInput组件面板说明：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PlayerInputBehavior%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E"><span class="toc-number">2.5.2.</span> <span class="toc-text">PlayerInputBehavior详细说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PlayerInputManager"><span class="toc-number">2.6.</span> <span class="toc-text">PlayerInputManager</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PlayerInputManager%E7%BB%84%E4%BB%B6%E9%9D%A2%E6%9D%BF%E8%AF%B4%E6%98%8E"><span class="toc-number">2.6.1.</span> <span class="toc-text">PlayerInputManager组件面板说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UGUI%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-number">2.7.</span> <span class="toc-text">UGUI配合使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-System-UI-Input-Module%E7%BB%84%E4%BB%B6%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-number">2.7.1.</span> <span class="toc-text">Input System UI Input Module组件参数说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Multiplayer-Event-System%E5%A4%9A%E4%BA%BA%E7%BB%84%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">2.7.2.</span> <span class="toc-text">Multiplayer Event System多人组件说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tracked-Device-Raycaster%E7%BB%84%E4%BB%B6%E9%85%8D%E5%AF%B9VR%E4%B8%ADCanvas%E7%BB%84%E4%BB%B6"><span class="toc-number">2.7.3.</span> <span class="toc-text">Tracked Device Raycaster组件配对VR中Canvas组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#On-Screen%E7%BB%84%E4%BB%B6%EF%BC%88%E7%BB%9D%E5%AF%B9%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">2.7.4.</span> <span class="toc-text">On-Screen组件（绝对重点）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#InputDebug"><span class="toc-number">2.8.</span> <span class="toc-text">InputDebug</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#InputDebug%E7%AA%97%E5%8F%A3%E4%BF%A1%E6%81%AF%E8%AF%B4%E6%98%8E"><span class="toc-number">2.8.1.</span> <span class="toc-text">InputDebug窗口信息说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E8%A1%A5%E5%85%85"><span class="toc-number">3.</span> <span class="toc-text">知识补充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#InputSystem%E4%B8%93%E9%97%A8%E4%BB%BB%E6%84%8F%E9%94%AE%E6%96%B9%E6%A1%88%EF%BC%88%E6%94%B9%E9%94%AE%EF%BC%89"><span class="toc-number">3.1.</span> <span class="toc-text">InputSystem专门任意键方案（改键）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Json%E6%89%8B%E5%8A%A8%E5%8A%A0%E8%BD%BD%E8%BE%93%E5%85%A5%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">Json手动加载输入配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E9%94%AE"><span class="toc-number">3.3.</span> <span class="toc-text">改键</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/544.html" title="数据结构和算法"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s1.ax1x.com/2022/03/09/b2InYQ.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="数据结构和算法"/></a><div class="content"><a class="title" href="/posts/544.html" title="数据结构和算法">数据结构和算法</a><time datetime="2022-03-03T13:00:00.000Z" title="发表于 2022-03-03 21:00:00">2022-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/520.html" title="编译原理"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s1.ax1x.com/2022/03/09/b2oQ4e.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="编译原理"/></a><div class="content"><a class="title" href="/posts/520.html" title="编译原理">编译原理</a><time datetime="2022-03-03T13:00:00.000Z" title="发表于 2022-03-03 21:00:00">2022-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/528.html" title="计算机组成原理"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s1.ax1x.com/2022/03/09/b2Izn0.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="计算机组成原理"/></a><div class="content"><a class="title" href="/posts/528.html" title="计算机组成原理">计算机组成原理</a><time datetime="2022-03-03T13:00:00.000Z" title="发表于 2022-03-03 21:00:00">2022-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/536.html" title="计算机网络技术"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s1.ax1x.com/2022/03/09/b2IckD.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="计算机网络技术"/></a><div class="content"><a class="title" href="/posts/536.html" title="计算机网络技术">计算机网络技术</a><time datetime="2022-03-03T13:00:00.000Z" title="发表于 2022-03-03 21:00:00">2022-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/517.html" title="人工智能导论"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s4.ax1x.com/2022/03/03/bYGUyD.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/friend_404.gif'" alt="人工智能导论"/></a><div class="content"><a class="title" href="/posts/517.html" title="人工智能导论">人工智能导论</a><time datetime="2022-03-02T13:00:00.000Z" title="发表于 2022-03-02 21:00:00">2022-03-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022  <i id="heartbeat" class="fa fas fa-heartbeat"></i> 雪夜</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'NECHPwTPuwMuM9gPyX87b7RF-MdYXbMMI',
      appKey: 'oCqKwP5Ot0Btor8sGT2rfheE',
      placeholder: '畅所欲言！',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: 'nechpwtp.api.lncldglobal.com',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://wwy.wwywy.com/posts/1547.html'
    this.page.identifier = 'posts/1547.html'
    this.page.title = 'Unity进阶-InputSystem'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://雪夜.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Valine' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script defer id="dsq-count-scr" src="//xianqi.disqus.com/count.js" async></script><script defer type="text/javascript" src="https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/js/sakura.js"></script><script defer type="text/javascript" src="https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/js/animate.js"></script><div class="aplayer no-destroy" data-id="1776127550" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="auto" data-autoplay="true" muted></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>window.$crisp = [];
window.CRISP_WEBSITE_ID = "7b02a7fe-bcdd-4aa6-8d43-f05c4691f08e";
(function () {
  d = document;
  s = d.createElement("script");
  s.src = "https://client.crisp.chat/l.js";
  s.async = 1;
  d.getElementsByTagName("head")[0].appendChild(s);
})();
$crisp.push(["safe", true])

if (false) {
  $crisp.push(["do", "chat:hide"])
  $crisp.push(["on", "chat:closed", function() {
    $crisp.push(["do", "chat:hide"])
  }])
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      $crisp.push(["do", "chat:show"])
      $crisp.push(["do", "chat:open"])

    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      $crisp.push(["do", "chat:hide"])
    }
    function chatBtnShow () {
      $crisp.push(["do", "chat:show"])
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>